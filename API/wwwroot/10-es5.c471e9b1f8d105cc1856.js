function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{h9W5:function(e,t,r){"use strict";r.r(t);var o,n=r("ofXK"),i=r("tyNb"),s=r("fXoL"),c=r("AytR"),a=r("tk/3"),d=((o=function(){function e(t){_classCallCheck(this,e),this.http=t,this.baseUrl=c.a.apiUrl}return _createClass(e,[{key:"getOrdersForUser",value:function(){return this.http.get(this.baseUrl+"orders")}},{key:"getOrders",value:function(){return this.http.get(this.baseUrl+"orders/GetOrders")}},{key:"getOrderPerUser",value:function(e){return this.http.get(this.baseUrl+"orders/"+e)}},{key:"getOrderDetailed",value:function(e){return this.http.get(this.baseUrl+"Orders/GetOrderById/"+e)}}]),e}()).\u0275fac=function(e){return new(e||o)(s.bc(a.b))},o.\u0275prov=s.Nb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),b=r("2rwd");function l(e,t){if(1&e&&(s.Xb(0,"tr",6),s.Xb(1,"th"),s.Nc(2),s.Wb(),s.Xb(3,"td"),s.Nc(4),s.kc(5,"date"),s.Wb(),s.Xb(6,"td"),s.Nc(7),s.Wb(),s.Xb(8,"td"),s.Nc(9),s.Wb(),s.Wb()),2&e){var r=t.$implicit;s.rc("routerLink","/orders/",r.id,""),s.Cb(2),s.Pc("# ",r.id,""),s.Cb(2),s.Oc(s.mc(5,5,r.orderDate,"medium")),s.Cb(3),s.Oc(r.buyerEmail),s.Cb(2),s.Oc(r.status)}}var u,h=((u=function(){function e(t,r){_classCallCheck(this,e),this.ordersService=t,this.accountService=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.accountService.isAdmin$.subscribe((function(t){e.isAdmin=t})),this.isAdmin?this.getOrders():this.getOrdersPerUser()}},{key:"getOrdersPerUser",value:function(){var e=this;this.ordersService.getOrdersForUser().subscribe((function(t){e.orders=t}),(function(e){console.log(e)}))}},{key:"getOrders",value:function(){var e=this;this.ordersService.getOrders().subscribe((function(t){e.orders=t}),(function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||u)(s.Rb(d),s.Rb(b.a))},u.\u0275cmp=s.Lb({type:u,selectors:[["app-orders"]],decls:16,vars:1,consts:[[1,"container","mt-5"],[1,"row",2,"color","#29256A"],[1,"col-12",2,"color","#29256A"],[1,"table","table-borderless",2,"cursor","pointer"],[1,"thead-light"],["style","color: #29256A;",3,"routerLink",4,"ngFor","ngForOf"],[2,"color","#29256A",3,"routerLink"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"table",3),s.Xb(4,"thead",4),s.Xb(5,"tr"),s.Xb(6,"th"),s.Nc(7,"Order"),s.Wb(),s.Xb(8,"th"),s.Nc(9,"Date"),s.Wb(),s.Xb(10,"th"),s.Nc(11,"Buyer Email"),s.Wb(),s.Xb(12,"th"),s.Nc(13,"Status"),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"tbody"),s.Lc(15,l,10,8,"tr",5),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Cb(15),s.pc("ngForOf",t.orders))},directives:[n.m,i.d],pipes:[n.f],styles:[".container[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.2);box-shadow:0 8px 32px 0 rgba(31,38,135,.37);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:10px;border:1px solid hsla(0,0%,100%,.18);color:#29256a}body[_ngcontent-%COMP%]{background-color:#eee;font-family:Roboto,sans-serif}.main[_ngcontent-%COMP%]{border-collapse:separate!important;border-spacing:0 11px!important}tr[_ngcontent-%COMP%]{border:1px solid #29256a}.head[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500}tr[_ngcontent-%COMP%]:nth-child(3){border:thin solid}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#8bbafe;outline:0;box-shadow:none}.btn[_ngcontent-%COMP%]{height:27px;line-height:11px;color:#fff}.form-check-input[_ngcontent-%COMP%]{width:1.15em;height:1.15em;margin-top:3px}.btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}.btn[_ngcontent-%COMP%]:focus, .order-color[_ngcontent-%COMP%]{color:#29256a}"]}),u),p=r("tc9g"),f=r("GJcC"),g=r("PoZw");function v(e,t){if(1&e&&(s.Xb(0,"div",2),s.Xb(1,"div",3),s.Sb(2,"app-basket-summary",4),s.Wb(),s.Xb(3,"div",5),s.Sb(4,"app-order-totals",6),s.Wb(),s.Wb()),2&e){var r=s.jc();s.Cb(2),s.pc("items",r.order.orderItems)("isBasket",!1)("isOrder",!0),s.Cb(2),s.pc("shippingPrice",r.order.shippingPrice)("subtotal",r.order.subtotal)("total",r.order.total)("address",r.order.shipToAddress)}}var m,O,C=[{path:"",component:h},{path:":id",component:(m=function(){function e(t,r,o,n){_classCallCheck(this,e),this.route=t,this.breadcrumbService=r,this.ordersService=o,this.accountService=n,this.breadcrumbService.set("@OrderDetailed","")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.id=+this.route.snapshot.paramMap.get("id"),this.accountService.isAdmin$.subscribe((function(t){e.isAdmin=t})),this.isAdmin?this.getDetailsPerId():this.getDetailsPerUserAndId()}},{key:"getDetailsPerUserAndId",value:function(){var e=this;this.ordersService.getOrderPerUser(this.id).subscribe((function(t){e.order=t,e.breadcrumbService.set("@OrderDetailed","Order# ".concat(t.id," - ").concat(t.status))}),(function(e){console.log(e)}))}},{key:"getDetailsPerId",value:function(){var e=this;this.ordersService.getOrderDetailed(this.id).subscribe((function(t){e.order=t,e.breadcrumbService.set("@OrderDetailed","Order# ".concat(t.id," - ").concat(t.status))}),(function(e){console.log(e)}))}}]),e}(),m.\u0275fac=function(e){return new(e||m)(s.Rb(i.a),s.Rb(p.c),s.Rb(d),s.Rb(b.a))},m.\u0275cmp=s.Lb({type:m,selectors:[["app-order-detailed"]],decls:2,vars:1,consts:[[1,"container","mt-5",2,"color","white"],["style","color: white;","class","row",4,"ngIf"],[1,"row",2,"color","white"],[1,"col-12","py-5","mb-1",2,"color","white"],[2,"color","white",3,"items","isBasket","isOrder"],[1,"col-12","py-1","mb-1"],[3,"shippingPrice","subtotal","total","address"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Lc(1,v,5,7,"div",1),s.Wb()),2&e&&(s.Cb(1),s.pc("ngIf",t.order))},directives:[n.n,f.a,g.a],styles:[""]}),m),data:{breadcrumb:{alias:"OrderDetailed"}}}],y=((O=function e(){_classCallCheck(this,e)}).\u0275mod=s.Pb({type:O}),O.\u0275inj=s.Ob({factory:function(e){return new(e||O)},imports:[[i.g.forChild(C)],i.g]}),O),k=r("PCNd"),P=r("hctd");r.d(t,"OrdersModule",(function(){return _}));var w,_=((w=function e(){_classCallCheck(this,e)}).\u0275mod=s.Pb({type:w}),w.\u0275inj=s.Ob({factory:function(e){return new(e||w)},imports:[[n.c,y,k.a,P.a]]}),w)}}]);