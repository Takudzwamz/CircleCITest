(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{h9W5:function(r,e,t){"use strict";t.r(e);var o=t("ofXK"),s=t("tyNb"),i=t("fXoL"),c=t("AytR"),n=t("tk/3");let d=(()=>{class r{constructor(r){this.http=r,this.baseUrl=c.a.apiUrl}getOrdersForUser(){return this.http.get(this.baseUrl+"orders")}getOrders(){return this.http.get(this.baseUrl+"orders/GetOrders")}getOrderPerUser(r){return this.http.get(this.baseUrl+"orders/"+r)}getOrderDetailed(r){return this.http.get(this.baseUrl+"Orders/GetOrderById/"+r)}}return r.\u0275fac=function(e){return new(e||r)(i.bc(n.b))},r.\u0275prov=i.Nb({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var b=t("2rwd");function a(r,e){if(1&r&&(i.Xb(0,"tr",6),i.Xb(1,"th"),i.Nc(2),i.Wb(),i.Xb(3,"td"),i.Nc(4),i.kc(5,"date"),i.Wb(),i.Xb(6,"td"),i.Nc(7),i.Wb(),i.Xb(8,"td"),i.Nc(9),i.kc(10,"currency"),i.Wb(),i.Xb(11,"td"),i.Nc(12),i.Wb(),i.Wb()),2&r){const r=e.$implicit;i.rc("routerLink","/orders/",r.id,""),i.Cb(2),i.Pc("# ",r.id,""),i.Cb(2),i.Oc(i.mc(5,6,r.orderDate,"medium")),i.Cb(3),i.Oc(r.buyerEmail),i.Cb(2),i.Oc(i.mc(10,9,r.total,"R")),i.Cb(3),i.Oc(r.status)}}let l=(()=>{class r{constructor(r,e){this.ordersService=r,this.accountService=e}ngOnInit(){this.accountService.isAdmin$.subscribe(r=>{this.isAdmin=r}),this.isAdmin?this.getOrders():this.getOrdersPerUser()}getOrdersPerUser(){this.ordersService.getOrdersForUser().subscribe(r=>{this.orders=r},r=>{console.log(r)})}getOrders(){this.ordersService.getOrders().subscribe(r=>{this.orders=r},r=>{console.log(r)})}}return r.\u0275fac=function(e){return new(e||r)(i.Rb(d),i.Rb(b.a))},r.\u0275cmp=i.Lb({type:r,selectors:[["app-orders"]],decls:18,vars:1,consts:[[1,"container","mt-5"],[1,"row",2,"color","white"],[1,"col-12",2,"color","white","overflow-x","auto"],[1,"table",2,"cursor","pointer"],[1,"thead-light"],["style","color: white;",3,"routerLink",4,"ngFor","ngForOf"],[2,"color","white",3,"routerLink"]],template:function(r,e){1&r&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Xb(3,"table",3),i.Xb(4,"thead",4),i.Xb(5,"tr"),i.Xb(6,"th"),i.Nc(7,"Order"),i.Wb(),i.Xb(8,"th"),i.Nc(9,"Date"),i.Wb(),i.Xb(10,"th"),i.Nc(11,"Buyer Email"),i.Wb(),i.Xb(12,"th"),i.Nc(13,"Total"),i.Wb(),i.Xb(14,"th"),i.Nc(15,"Status"),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"tbody"),i.Lc(17,a,13,12,"tr",5),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&r&&(i.Cb(17),i.pc("ngForOf",e.orders))},directives:[o.m,s.d],pipes:[o.f,o.d],styles:[".container[_ngcontent-%COMP%]{background:rgba(80,75,75,.25);box-shadow:0 8px 32px 0 rgba(31,38,135,.37);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:10px;border:1px solid hsla(0,0%,100%,.18);color:#fff}body[_ngcontent-%COMP%]{background-color:#eee;font-family:Roboto,sans-serif}.main[_ngcontent-%COMP%]{border-collapse:separate!important;border-spacing:0 11px!important}tr[_ngcontent-%COMP%]{margin:0;padding:0}.head[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500}tr[_ngcontent-%COMP%]:nth-child(3){border:thin solid}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#8bbafe;outline:0;box-shadow:none}.btn[_ngcontent-%COMP%]{height:27px;line-height:11px;color:#fff}.form-check-input[_ngcontent-%COMP%]{width:1.15em;height:1.15em;margin-top:3px}.btn[_ngcontent-%COMP%]:focus{color:#fff;box-shadow:none!important}.order-color[_ngcontent-%COMP%]{color:#fff}"]}),r})();var h=t("tc9g"),p=t("GJcC"),u=t("PoZw");function g(r,e){if(1&r&&(i.Xb(0,"div",2),i.Xb(1,"div",3),i.Sb(2,"app-basket-summary",4),i.Wb(),i.Xb(3,"div",5),i.Sb(4,"app-order-totals",6),i.Wb(),i.Wb()),2&r){const r=i.jc();i.Cb(2),i.pc("items",r.order.orderItems)("isBasket",!1)("isOrder",!0),i.Cb(2),i.pc("shippingPrice",r.order.shippingPrice)("subtotal",r.order.subtotal)("total",r.order.total)("address",r.order.shipToAddress)}}const f=[{path:"",component:l},{path:":id",component:(()=>{class r{constructor(r,e,t,o){this.route=r,this.breadcrumbService=e,this.ordersService=t,this.accountService=o,this.breadcrumbService.set("@OrderDetailed","")}ngOnInit(){this.id=+this.route.snapshot.paramMap.get("id"),this.accountService.isAdmin$.subscribe(r=>{this.isAdmin=r}),this.isAdmin?this.getDetailsPerId():this.getDetailsPerUserAndId()}getDetailsPerUserAndId(){this.ordersService.getOrderPerUser(this.id).subscribe(r=>{this.order=r,this.breadcrumbService.set("@OrderDetailed",`Order# ${r.id} - ${r.status}`)},r=>{console.log(r)})}getDetailsPerId(){this.ordersService.getOrderDetailed(this.id).subscribe(r=>{this.order=r,this.breadcrumbService.set("@OrderDetailed",`Order# ${r.id} - ${r.status}`)},r=>{console.log(r)})}}return r.\u0275fac=function(e){return new(e||r)(i.Rb(s.a),i.Rb(h.c),i.Rb(d),i.Rb(b.a))},r.\u0275cmp=i.Lb({type:r,selectors:[["app-order-detailed"]],decls:2,vars:1,consts:[[1,"container","mt-5",2,"color","white"],["style","color: white;","class","row",4,"ngIf"],[1,"row",2,"color","white"],[1,"col-12","py-5","mb-1",2,"color","white"],[2,"color","white",3,"items","isBasket","isOrder"],[1,"col-12","py-1","mb-1"],[3,"shippingPrice","subtotal","total","address"]],template:function(r,e){1&r&&(i.Xb(0,"div",0),i.Lc(1,g,5,7,"div",1),i.Wb()),2&r&&(i.Cb(1),i.pc("ngIf",e.order))},directives:[o.n,p.a,u.a],styles:[""]}),r})(),data:{breadcrumb:{alias:"OrderDetailed"}}}];let m=(()=>{class r{}return r.\u0275mod=i.Pb({type:r}),r.\u0275inj=i.Ob({factory:function(e){return new(e||r)},imports:[[s.g.forChild(f)],s.g]}),r})();var O=t("PCNd"),v=t("hctd");t.d(e,"OrdersModule",(function(){return w}));let w=(()=>{class r{}return r.\u0275mod=i.Pb({type:r}),r.\u0275inj=i.Ob({factory:function(e){return new(e||r)},imports:[[o.c,m,O.a,v.a]]}),r})()}}]);