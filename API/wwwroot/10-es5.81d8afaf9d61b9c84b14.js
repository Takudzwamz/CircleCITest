function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{h9W5:function(e,t,r){"use strict";r.r(t);var o,i=r("ofXK"),n=r("tyNb"),c=r("fXoL"),s=r("AytR"),a=r("tk/3"),d=((o=function(){function e(t){_classCallCheck(this,e),this.http=t,this.baseUrl=s.a.apiUrl}return _createClass(e,[{key:"getOrdersForUser",value:function(){return this.http.get(this.baseUrl+"orders")}},{key:"getOrders",value:function(){return this.http.get(this.baseUrl+"orders/GetOrders")}},{key:"getOrderPerUser",value:function(e){return this.http.get(this.baseUrl+"orders/"+e)}},{key:"getOrderDetailed",value:function(e){return this.http.get(this.baseUrl+"Orders/GetOrderById/"+e)}}]),e}()).\u0275fac=function(e){return new(e||o)(c.bc(a.b))},o.\u0275prov=c.Nb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),b=r("2rwd");function l(e,t){if(1&e&&(c.Xb(0,"tr",6),c.Xb(1,"th"),c.Nc(2),c.Wb(),c.Xb(3,"td"),c.Nc(4),c.kc(5,"date"),c.Wb(),c.Xb(6,"td"),c.Nc(7),c.Wb(),c.Xb(8,"td"),c.Nc(9),c.kc(10,"currency"),c.Wb(),c.Xb(11,"td"),c.Nc(12),c.Wb(),c.Wb()),2&e){var r=t.$implicit;c.rc("routerLink","/orders/",r.id,""),c.Cb(2),c.Pc("# ",r.id,""),c.Cb(2),c.Oc(c.mc(5,6,r.orderDate,"medium")),c.Cb(3),c.Oc(r.buyerEmail),c.Cb(2),c.Oc(c.mc(10,9,r.total,"R")),c.Cb(3),c.Oc(r.status)}}var u,h=((u=function(){function e(t,r){_classCallCheck(this,e),this.ordersService=t,this.accountService=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.accountService.isAdmin$.subscribe((function(t){e.isAdmin=t})),this.isAdmin?this.getOrders():this.getOrdersPerUser()}},{key:"getOrdersPerUser",value:function(){var e=this;this.ordersService.getOrdersForUser().subscribe((function(t){e.orders=t}),(function(e){console.log(e)}))}},{key:"getOrders",value:function(){var e=this;this.ordersService.getOrders().subscribe((function(t){e.orders=t}),(function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||u)(c.Rb(d),c.Rb(b.a))},u.\u0275cmp=c.Lb({type:u,selectors:[["app-orders"]],decls:18,vars:1,consts:[[1,"container","mt-5"],[1,"row",2,"color","white"],[1,"col-12",2,"color","white","overflow-x","auto"],[1,"table",2,"cursor","pointer"],[1,"thead-light"],["style","color: white;",3,"routerLink",4,"ngFor","ngForOf"],[2,"color","white",3,"routerLink"]],template:function(e,t){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"table",3),c.Xb(4,"thead",4),c.Xb(5,"tr"),c.Xb(6,"th"),c.Nc(7,"Order"),c.Wb(),c.Xb(8,"th"),c.Nc(9,"Date"),c.Wb(),c.Xb(10,"th"),c.Nc(11,"Buyer Email"),c.Wb(),c.Xb(12,"th"),c.Nc(13,"Total"),c.Wb(),c.Xb(14,"th"),c.Nc(15,"Status"),c.Wb(),c.Wb(),c.Wb(),c.Xb(16,"tbody"),c.Lc(17,l,13,12,"tr",5),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&e&&(c.Cb(17),c.pc("ngForOf",t.orders))},directives:[i.m,n.d],pipes:[i.f,i.d],styles:[".container[_ngcontent-%COMP%]{background:rgba(80,75,75,.25);box-shadow:0 8px 32px 0 rgba(31,38,135,.37);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:10px;border:1px solid hsla(0,0%,100%,.18);color:#fff}body[_ngcontent-%COMP%]{background-color:#eee;font-family:Roboto,sans-serif}.main[_ngcontent-%COMP%]{border-collapse:separate!important;border-spacing:0 11px!important}tr[_ngcontent-%COMP%]{margin:0;padding:0}.head[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500}tr[_ngcontent-%COMP%]:nth-child(3){border:thin solid}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#8bbafe;outline:0;box-shadow:none}.btn[_ngcontent-%COMP%]{height:27px;line-height:11px;color:#fff}.form-check-input[_ngcontent-%COMP%]{width:1.15em;height:1.15em;margin-top:3px}.btn[_ngcontent-%COMP%]:focus{color:#fff;box-shadow:none!important}.order-color[_ngcontent-%COMP%]{color:#fff}"]}),u),f=r("tc9g"),p=r("GJcC"),g=r("PoZw");function v(e,t){if(1&e&&(c.Xb(0,"div",2),c.Xb(1,"div",3),c.Sb(2,"app-basket-summary",4),c.Wb(),c.Xb(3,"div",5),c.Sb(4,"app-order-totals",6),c.Wb(),c.Wb()),2&e){var r=c.jc();c.Cb(2),c.pc("items",r.order.orderItems)("isBasket",!1)("isOrder",!0),c.Cb(2),c.pc("shippingPrice",r.order.shippingPrice)("subtotal",r.order.subtotal)("total",r.order.total)("address",r.order.shipToAddress)}}var m,O,C=[{path:"",component:h},{path:":id",component:(m=function(){function e(t,r,o,i){_classCallCheck(this,e),this.route=t,this.breadcrumbService=r,this.ordersService=o,this.accountService=i,this.breadcrumbService.set("@OrderDetailed","")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.id=+this.route.snapshot.paramMap.get("id"),this.accountService.isAdmin$.subscribe((function(t){e.isAdmin=t})),this.isAdmin?this.getDetailsPerId():this.getDetailsPerUserAndId()}},{key:"getDetailsPerUserAndId",value:function(){var e=this;this.ordersService.getOrderPerUser(this.id).subscribe((function(t){e.order=t,e.breadcrumbService.set("@OrderDetailed","Order# ".concat(t.id," - ").concat(t.status))}),(function(e){console.log(e)}))}},{key:"getDetailsPerId",value:function(){var e=this;this.ordersService.getOrderDetailed(this.id).subscribe((function(t){e.order=t,e.breadcrumbService.set("@OrderDetailed","Order# ".concat(t.id," - ").concat(t.status))}),(function(e){console.log(e)}))}}]),e}(),m.\u0275fac=function(e){return new(e||m)(c.Rb(n.a),c.Rb(f.c),c.Rb(d),c.Rb(b.a))},m.\u0275cmp=c.Lb({type:m,selectors:[["app-order-detailed"]],decls:2,vars:1,consts:[[1,"container","mt-5",2,"color","white"],["style","color: white;","class","row",4,"ngIf"],[1,"row",2,"color","white"],[1,"col-12","py-5","mb-1",2,"color","white"],[2,"color","white",3,"items","isBasket","isOrder"],[1,"col-12","py-1","mb-1"],[3,"shippingPrice","subtotal","total","address"]],template:function(e,t){1&e&&(c.Xb(0,"div",0),c.Lc(1,v,5,7,"div",1),c.Wb()),2&e&&(c.Cb(1),c.pc("ngIf",t.order))},directives:[i.n,p.a,g.a],styles:[""]}),m),data:{breadcrumb:{alias:"OrderDetailed"}}}],y=((O=function e(){_classCallCheck(this,e)}).\u0275mod=c.Pb({type:O}),O.\u0275inj=c.Ob({factory:function(e){return new(e||O)},imports:[[n.g.forChild(C)],n.g]}),O),k=r("PCNd"),w=r("hctd");r.d(t,"OrdersModule",(function(){return _}));var P,_=((P=function e(){_classCallCheck(this,e)}).\u0275mod=c.Pb({type:P}),P.\u0275inj=c.Ob({factory:function(e){return new(e||P)},imports:[[i.c,y,k.a,w.a]]}),P)}}]);